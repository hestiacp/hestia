#!/bin/bash
# info: change hostname
# options: HOSTNAME
#
# The function for changing system hostname.


#----------------------------------------------------------#
#                    Variable&Function                     #
#----------------------------------------------------------#

# Argument definition
domain=$1

# Includes
source $HESTIA/func/main.sh
source $HESTIA/conf/hestia.conf


#----------------------------------------------------------#
#                    Verifications                         #
#----------------------------------------------------------#

check_args '1' "$#" 'HOSTNAME'
is_format_valid 'domain'


#----------------------------------------------------------#
#                       Action                             #
#----------------------------------------------------------#

hostname $domain
echo "$domain" > /etc/hostname


#----------------------------------------------------------#
#                       Hestia                             #
#----------------------------------------------------------#

# Logging
log_event "$OK" "$ARGUMENTS"

exit
