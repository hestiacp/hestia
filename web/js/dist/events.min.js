const VE={core:{register:(e,t)=>{e=e||"body",t=t||"click",$(e).bind(t,s=>{VE.core.dispatch(s,$(s.target),t)})},dispatch:(e,t,s)=>{if(typeof VE.callbacks[s]>"u")return VE.helpers.warn('There is no corresponding object that should contain event callbacks for "'+s+'" event type');const a=$(t).attr("class");a&&$(a.split(/\s/)).each((o,n)=>{VE.callbacks[s][n]&&VE.callbacks[s][n](e,t)})}},navigation:{state:{active_menu:1,menu_selector:".main-menu-item",menu_active_selector:".active"},enter_focused:()=>{$(".units").hasClass("active")?location.href=$(".units.active .l-unit.focus .actions-panel__col.actions-panel__edit a").attr("href"):$(VE.navigation.state.menu_selector+".focus a").attr("href")&&(location.href=$(VE.navigation.state.menu_selector+".focus a").attr("href"))},move_focus_left:()=>{let e=parseInt($(VE.navigation.state.menu_selector).index($(VE.navigation.state.menu_selector+".focus")));e==-1&&(e=parseInt($(VE.navigation.state.menu_selector).index($(VE.navigation.state.menu_active_selector)))),$(".units").hasClass("active")&&($(".units").removeClass("active"),e++),$(VE.navigation.state.menu_selector).removeClass("focus"),e>0?$($(VE.navigation.state.menu_selector)[e-1]).addClass("focus"):VE.navigation.switch_menu("last")},move_focus_right:()=>{const e=$(VE.navigation.state.menu_selector).length-1;let t=parseInt($(VE.navigation.state.menu_selector).index($(VE.navigation.state.menu_selector+".focus")));t==-1&&(t=parseInt($(VE.navigation.state.menu_selector).index($(VE.navigation.state.menu_active_selector)))||0),$(VE.navigation.state.menu_selector).removeClass("focus"),$(".units").hasClass("active")&&($(".units").removeClass("active"),t--),t<e?$($(VE.navigation.state.menu_selector)[t+1]).addClass("focus"):VE.navigation.switch_menu("first")},move_focus_down:()=>{const e=$(".units .l-unit:not(.header)").length-1;let t=parseInt($(".units .l-unit").index($(".units .l-unit.focus")));t<e&&($(".units .l-unit.focus").removeClass("focus"),$($(".units .l-unit:not(.header)")[t+1]).addClass("focus"),$("html, body").animate({scrollTop:$(".units .l-unit.focus").offset().top-200},200))},move_focus_up:()=>{let e=parseInt($(".units .l-unit:not(.header)").index($(".units .l-unit.focus")));e==-1&&(e=0),e>0&&($(".units .l-unit.focus").removeClass("focus"),$($(".units .l-unit:not(.header)")[e-1]).addClass("focus"),$("html, body").animate({scrollTop:$(".units .l-unit.focus").offset().top-200},200))},switch_menu:e=>{if(e=e||"first",VE.navigation.state.active_menu==0)if(VE.navigation.state.active_menu=1,VE.navigation.state.menu_selector=".main-menu-item",VE.navigation.state.menu_active_selector=".active",e=="first")$($(VE.navigation.state.menu_selector)[0]).addClass("focus");else{const t=$(VE.navigation.state.menu_selector).length-1;$($(VE.navigation.state.menu_selector)[t]).addClass("focus")}},shortcut:e=>{switch(e.attr("key-action")){case"js":VE.core.dispatch(!0,e.find(".data-controls"),"click");break;case"href":location.href=e.find("a").attr("href");break;default:break}}},callbacks:{click:{}},helpers:{createConfirmationDialog:({title:e,message:t="Are you sure?",targetUrl:s})=>{const a=document.createElement("dialog");if(a.classList.add("modal"),e){const d=document.createElement("h2");d.innerHTML=e,d.classList.add("modal-title"),a.appendChild(d)}const o=document.createElement("p");o.innerHTML=t,o.classList.add("modal-message"),a.appendChild(o);const n=document.createElement("div");n.classList.add("modal-options");const i=document.createElement("button");i.type="submit",i.classList.add("button"),i.textContent="OK",n.appendChild(i);const l=document.createElement("button");l.type="button",l.classList.add("button","button-secondary","cancel","u-ml5"),l.textContent="Cancel",s&&n.appendChild(l),a.appendChild(n);const r=()=>{s&&(window.location.href=s),c()},u=()=>c(),c=()=>{i.removeEventListener("click",r),l.removeEventListener("click",u),a.removeEventListener("close",c),document.removeEventListener("keydown",m),document.body.removeChild(a)},m=({key:d})=>{d==="Escape"&&c()};i.addEventListener("click",r),l.addEventListener("click",u),a.addEventListener("close",c),document.addEventListener("keydown",m),document.body.appendChild(a),a.showModal()},recalculatePasswordStrength:e=>{const t=e.value,s=e.parentNode.querySelector(".js-password-meter");if(s){const o=[t.length>=8,t.search(/[a-z]/)>-1,t.search(/[A-Z]/)>-1,t.search(/[0-9]/)>-1].reduce((n,i)=>n+i,0);s.value=o}},enableInputUnlimited:(e,t)=>{t.classList.add("is-active"),e.dataset.prevValue=e.value,e.value=Alpine.store("globals").UNLIM_TRANSLATED_VALUE,e.disabled=!0},disableInputUnlimited:(e,t)=>{t.classList.remove("is-active");const s=e.dataset.prevValue?.trim();s&&(e.value=s),Alpine.store("globals").isUnlimitedValue(e.value)&&(e.value="0"),e.disabled=!1},toggleInputUnlimited:(e,t)=>{t.classList.contains("is-active")?VE.helpers.disableInputUnlimited(e,t):VE.helpers.enableInputUnlimited(e,t)},warn:e=>{alert("WARNING: "+e)},extendPasswordFields:()=>{const e=[".js-password-input"];$(document).ready(()=>{$(e).each((t,s)=>{VE.helpers.initAdditionalPasswordFieldElements(s)})})},initAdditionalPasswordFieldElements:e=>{const t=Cookies.read("hide_passwords")==1;t&&(Cookies.set("hide_passwords",1,365),$(e).prop("type","password")),$(e).prop("autocomplete","off");const s='<span class="toggle-password"><i class="toggle-psw-visibility-icon fas fa-eye-slash '+t?"":`u-opacity-50" onclick="VE.helpers.toggleHiddenPasswordText('`+e+`', this)"></i></span>`;$(e).after(s)},toggleHiddenPasswordText:(e,t)=>{$(t).toggleClass("u-opacity-50"),$(e).prop("type")=="text"?(Cookies.set("hide_passwords",1,365),$(e).prop("type","password")):(Cookies.set("hide_passwords",0,365),$(e).prop("type","text"))}},tmp:{sort_par:"sort-name",sort_direction:-1,sort_as_int:!1}};VE.helpers.extendPasswordFields();
