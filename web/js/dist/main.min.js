(()=>{var Q=Object.create;var h=Object.defineProperty;var X=Object.getOwnPropertyDescriptor;var ee=Object.getOwnPropertyNames;var te=Object.getPrototypeOf,ne=Object.prototype.hasOwnProperty;var oe=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),re=(t,e)=>{for(var n in e)h(t,n,{get:e[n],enumerable:!0})},ie=(t,e,n,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of ee(e))!ne.call(t,r)&&r!==n&&h(t,r,{get:()=>e[r],enumerable:!(o=X(e,r))||o.enumerable});return t};var se=(t,e,n)=>(n=t!=null?Q(te(t)):{},ie(e||!t||!t.__esModule?h(n,"default",{value:t,enumerable:!0}):n,t));var U=oe((xe,F)=>{(function(t){typeof define=="function"&&define.amd?define(t):t()})(function(){"use strict";let t=[{id:0,value:"Too weak",minDiversity:0,minLength:0},{id:1,value:"Weak",minDiversity:2,minLength:6},{id:2,value:"Medium",minDiversity:4,minLength:8},{id:3,value:"Strong",minDiversity:4,minLength:10}],e=(n,o=t,r="!\"#$%&'()*+,-./:;<=>?@[\\\\\\]^_`{|}~")=>{let i=n||"";o[0].minDiversity=0,o[0].minLength=0;let s=[{regex:"[a-z]",message:"lowercase"},{regex:"[A-Z]",message:"uppercase"},{regex:"[0-9]",message:"number"}];r&&s.push({regex:`[${r}]`,message:"symbol"});let c={};c.contains=s.filter(a=>new RegExp(`${a.regex}`).test(i)).map(a=>a.message),c.length=i.length;let l=o.filter(a=>c.contains.length>=a.minDiversity).filter(a=>c.length>=a.minLength).sort((a,d)=>d.id-a.id).map(a=>({id:a.id,value:a.value}));return Object.assign(c,l[0]),c};F.exports={passwordStrength:e,defaultOptions:t}})});function y(){return{initialized:!1,open:!1,notifications:[],toggle(){this.open=!this.open,this.initialized||this.list()},async list(){let t=document.querySelector("#token").getAttribute("token"),e=await fetch(`/list/notifications/?ajax=1&token=${t}`);if(this.initialized=!0,!e.ok)throw new Error("An error occurred while listing notifications.");this.notifications=Object.entries(await e.json()).reduce((n,[o,r])=>[...n,r],[])},async remove(t){let e=document.querySelector("#token").getAttribute("token");await fetch(`/delete/notification/?delete=1&notification_id=${t}&token=${e}`),this.notifications=this.notifications.filter(n=>n.ID!=t),this.notifications.length===0&&(this.open=!1)},async removeAll(){let t=document.querySelector("#token").getAttribute("token");await fetch(`/delete/notification/?delete=1&token=${t}`),this.notifications=[],this.open=!1}}}function v(){Alpine.bind("BulkEdit",()=>({"@submit"(t){t.preventDefault(),document.querySelectorAll(".ch-toggle").forEach(e=>{if(e.checked){let n=document.createElement("input");n.type="hidden",n.name=e.name,n.value=e.value,t.target.appendChild(n)}}),t.target.submit()}})),Alpine.store("form",{dirty:!1,makeDirty(){this.dirty=!0}}),document.querySelectorAll("#vstobjects input, #vstobjects select, #vstobjects textarea").forEach(t=>{t.addEventListener("change",()=>{Alpine.store("form").makeDirty()})}),Alpine.data("notifications",y)}function S(){if(document.querySelectorAll("dialog[open]").length===0){let e=document.querySelector("#vstobjects .form-control:not([disabled]),		#vstobjects .form-select:not([disabled])");e&&e.focus()}}var E={};re(E,{createConfirmationDialog:()=>u,emailCredentialsAsPlainText:()=>T,generateMailCredentials:()=>g,monitorAndUpdate:()=>ae,randomPassword:()=>A,updateTextareaWithInputValues:()=>b});var ce=t=>crypto.getRandomValues(new Uint8Array(t)),le=(t,e,n)=>{let o=(2<<Math.log(t.length-1)/Math.LN2)-1,r=-~(1.6*o*e/t.length);return(i=e)=>{let s="";for(;;){let c=n(r),l=r;for(;l--;)if(s+=t[c[l]&o]||"",s.length===i)return s}}},N=(t,e=21)=>le(t,e,ce);function A(t=16){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",n="abcdefghijklmnopqrstuvwxyz",o="0123456789",r="!@#$%^&*()_+-=[]{}|;:,./<>?",i=e+n+o+r,s=N(i,t),c;do c=s();while(!(/[a-z]/.test(c)&&/[A-Z]/.test(c)&&/\d/.test(c)));return c}function u({title:t,message:e="Are you sure?",targetUrl:n}){let o=document.createElement("dialog");if(o.classList.add("modal"),t){let f=document.createElement("h2");f.textContent=t,f.classList.add("modal-title"),o.append(f)}let r=document.createElement("p");r.textContent=e,r.classList.add("modal-message"),o.append(r);let i=document.createElement("div");i.classList.add("modal-options");let s=document.createElement("button");s.type="submit",s.classList.add("button"),s.textContent="OK",i.append(s);let c=document.createElement("button");c.type="button",c.classList.add("button","button-secondary","u-ml5"),c.textContent="Cancel",n&&i.append(c),o.append(i);let l=()=>{n&&(window.location.href=n),d()},a=()=>d(),d=()=>{s.removeEventListener("click",l),c.removeEventListener("click",a),o.removeEventListener("close",d),o.remove()};s.addEventListener("click",l),c.addEventListener("click",a),o.addEventListener("close",d),document.body.append(o),o.showModal()}function ae(t,e){let n=document.querySelector(t),o=document.querySelector(e);if(!n||!o)return;function r(i){o.textContent=i,g()}n.addEventListener("input",i=>{r(i.target.value)}),r(n.value)}function g(){let t=document.querySelector(".js-mail-info");if(!t)return;let e=T(t.cloneNode(!0));document.querySelector(".js-hidden-credentials").value=e}function b(t,e){t.forEach(n=>{let o=n.dataset.regexp,r=n.dataset.prevValue;n.setAttribute("data-prev-value",n.value);let i=new RegExp(`(${o})(.+)(${r})`);e.value=e.value.replace(i,`$1$2${n.value}`)})}function T(t){let e=[...t.querySelectorAll("h2")],n=[...t.querySelectorAll("ul")];return e.map((o,r)=>{let s=[...n[r].querySelectorAll("li")].map(c=>{let l=c.querySelector(".values-list-label"),a=c.querySelector(".values-list-value"),d=a.querySelector("a"),f=d?d.href:a.textContent;return`${l.textContent}: ${f}`}).join(`
`);return`${o.textContent}
${s}
`}).join(`
`)}function q(){document.querySelectorAll(".js-confirm-action").forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();let n=t.dataset.confirmTitle,o=t.dataset.confirmMessage,r=t.getAttribute("href");u({title:n,message:o,targetUrl:r})})})}function L(){let t=document.querySelector(".js-toggle-all");t&&t.addEventListener("change",ue)}function ue(t){let e=t.target.checked;document.querySelectorAll(".ch-toggle").forEach(n=>{n.checked=e}),document.querySelectorAll(".l-unit").forEach(n=>{n.classList.toggle("selected",e)})}function _(){let t={sort_par:"sort-name",sort_direction:-1,sort_as_int:!1};document.querySelectorAll(".toolbar-sorting-toggle").forEach(e=>{e.addEventListener("click",n=>{n.preventDefault(),document.querySelector(".toolbar-sorting-menu").classList.toggle("u-hidden")})}),document.addEventListener("click",e=>{let n=document.querySelector(".toolbar-sorting-toggle"),o=document.querySelector(".toolbar-sorting-menu");!o||!n||!o.contains(e.target)&&!n.contains(e.target)&&!o.classList.contains("u-hidden")&&o.classList.add("u-hidden")}),document.querySelectorAll(".toolbar-sorting-menu span").forEach(e=>{e.addEventListener("click",function(){if(document.querySelector(".toolbar-sorting-menu").classList.toggle("u-hidden"),this.classList.contains("active"))return;document.querySelectorAll(".toolbar-sorting-menu span").forEach(l=>l.classList.remove("active")),this.classList.add("active");let o=this.closest("li");t.sort_par=o.getAttribute("entity"),t.sort_as_int=!!o.getAttribute("sort_as_int"),t.sort_direction=this.classList.contains("up")?1:-1;let r=document.querySelector(".toolbar-sorting-toggle");r.querySelector("b").innerHTML=o.querySelector(".name").innerHTML;let i=r.querySelector(".fas");i.classList.remove("fa-arrow-up-a-z","fa-arrow-down-a-z"),i.classList.add(this.classList.contains("up")?"fa-arrow-up-a-z":"fa-arrow-down-a-z");let s=Array.from(document.querySelectorAll(".units .l-unit")).sort((l,a)=>{let d=l.getAttribute(t.sort_par),f=a.getAttribute(t.sort_par);if(t.sort_as_int){let Y=parseInt(d),Z=parseInt(f);return Y>=Z?t.sort_direction:t.sort_direction*-1}else return d<=f?t.sort_direction:t.sort_direction*-1}),c=document.querySelector(".units");s.forEach(l=>c.appendChild(l))})})}function I(){let t=document.querySelector("#vstobjects");t&&t.addEventListener("submit",O);let e=document.querySelector('[x-bind="BulkEdit"]');e&&e.addEventListener("submit",O)}function O(){document.querySelector(".js-fullscreen-loader").classList.add("active")}function w(){let t=document.querySelector(".js-add-ns");t&&t.addEventListener("click",()=>{let e=document.querySelectorAll("input[name^=v_ns]"),n=e.length;if(n<8){let o=e[0].parentElement.cloneNode(!0),r=o.querySelector("input");r.removeAttribute("value"),r.name=`v_ns${n+1}`,t.before(o)}n===7&&t.classList.add("u-hidden")}),document.querySelectorAll(".js-remove-ns").forEach(e=>{e.addEventListener("click",()=>{e.parentElement.remove(),document.querySelectorAll("input[name^=v_ns]").forEach((o,r)=>o.name=`v_ns${r+1}`),document.querySelector(".js-add-ns").classList.remove("u-hidden")})})}var R=se(U(),1);function x(){document.querySelectorAll(".js-password-input").forEach(t=>{let e=n=>{clearTimeout(window.frp_usr_tmt),window.frp_usr_tmt=setTimeout(()=>{M(n.target)},100)};t.addEventListener("keypress",e),t.addEventListener("input",e)}),document.querySelectorAll(".js-generate-password").forEach(t=>{t.addEventListener("click",()=>{let e=t.parentNode.nextElementSibling.querySelector(".js-password-input");e&&(e.value=A(),e.dispatchEvent(new Event("input")),M(e),g())})})}function M(t){let e=t.value,n=t.parentNode.querySelector(".js-password-meter");if(n){let o=(0,R.passwordStrength)(e).id;n.value=o+1}}var p={active_menu:1,menu_selector:".main-menu-item",menu_active_selector:".active"};function K(){H("left")}function $(){H("right")}function P(){W("down")}function G(){W("up")}function z(){let t=document.querySelector(p.menu_selector+".focus a");if(t)return location.href=t.getAttribute("href");let e=document.querySelector(".units .l-unit.focus .actions-panel__col.actions-panel__edit a");e&&(location.href=e.getAttribute("href"))}function m(t){let e=t.dataset.keyAction;if(e==="js")return t.querySelector(".data-controls").click();e==="href"&&(location.href=t.querySelector("a").getAttribute("href"))}function H(t){let e=p.menu_selector,n=p.menu_active_selector,o=Array.from(document.querySelectorAll(e)),r=document.querySelector(`${e}.focus`),i=document.querySelector(e+n),s=o.indexOf(r);s===-1&&(s=o.indexOf(i)),o.forEach(c=>c.classList.remove("focus")),t==="left"?s>0?o[s-1].classList.add("focus"):V("last"):t==="right"&&(s<o.length-1?o[s+1].classList.add("focus"):V("first"))}function W(t){let e=".units .l-unit:not(.header)",n=Array.from(document.querySelectorAll(e)),o=document.querySelector(".units .l-unit.focus"),r=n.indexOf(o);if(r===-1&&(r=0),t==="up"&&r>0)r--;else if(t==="down"&&r<n.length-1)r++;else return;o&&o.classList.remove("focus"),n[r].classList.add("focus"),window.scrollTo({top:n[r].getBoundingClientRect().top-200+window.scrollY,behavior:"smooth"})}function V(t="first"){if(p.active_menu===0){p.active_menu=1,p.menu_selector=".main-menu-item",p.menu_active_selector=".active";let e=document.querySelectorAll(p.menu_selector),n=t==="first"?0:e.length-1;e[n].classList.add("focus")}}function k(){Alpine.store("shortcuts",{registeredShortcuts:[],register(t,e,n){n={...{type:"keydown",propagate:!1,disabledInInput:!1,target:document},...n};let r=i=>{if(n.disabledInInput){let l=i.target.nodeType===3?i.target.parentNode:i.target;if(["input","textarea","selectbox"].includes(l.tagName.toLowerCase()))return}let s=[t.code?t.code==i.code:t.key.toLowerCase()==i.key.toLowerCase(),t.altKey&&i.altKey||!t.altKey&&!i.altKey,t.ctrlKey&&i.ctrlKey||!t.ctrlKey&&!i.ctrlKey,t.metaKey&&i.metaKey||!t.metaKey&&!i.metaKey,t.shiftKey&&i.shiftKey||!t.shiftKey&&!i.shiftKey];s.filter(l=>l).length===s.length&&(e(i),n.propagate||(i.stopPropagation(),i.preventDefault()))};return this.registeredShortcuts.push({combination:t,callback:r,target:n.target,event:n.type}),n.target.addEventListener(n.type,r),this},unregister(t){let e=this.registeredShortcuts.find(n=>JSON.stringify(n.combination)==JSON.stringify(t));if(e)return this.registeredShortcuts=this.registeredShortcuts.filter(n=>JSON.stringify(n.combination)!=JSON.stringify(t)),e.target.removeEventListener(e.event,e.callback,!1),this}}),Alpine.store("shortcuts").register({key:"A"},t=>{let e=document.querySelector("a.js-button-create");e&&(location.href=e.href)},{disabledInInput:!0}).register({key:"A",ctrlKey:!0,shiftKey:!0},t=>{let e=document.querySelector(".l-unit .ch-toggle:eq(0)").checked;document.querySelectorAll(".l-unit").forEach(n=>n.classList.toggle("selected"),!e),document.querySelectorAll(".l-unit .ch-toggle").forEach(n=>n.checked=!e)},{disabledInInput:!0}).register({code:"Enter",ctrlKey:!0},t=>{document.querySelector("form#vstobjects").submit()}).register({code:"Backspace",ctrlKey:!0},t=>{let e=document.querySelector("a.js-button-back").href;e&&(Alpine.store("form").dirty&&e?u({message:Alpine.store("globals").CONFIRM_LEAVE_PAGE,targetUrl:e}):e&&(location.href=e))}).register({key:"F"},t=>{let e=document.querySelector(".js-search-input");e&&e.focus()},{disabledInInput:!0}).register({code:"Digit1"},t=>{let e=document.querySelector(".main-menu .main-menu-item:nth-of-type(1) a");e&&(Alpine.store("form").dirty?u({message:Alpine.store("globals").CONFIRM_LEAVE_PAGE,targetUrl:e.href}):location.href=e.href)},{disabledInInput:!0}).register({code:"Digit2"},t=>{let e=document.querySelector(".main-menu .main-menu-item:nth-of-type(2) a");e&&(Alpine.store("form").dirty?u({message:Alpine.store("globals").CONFIRM_LEAVE_PAGE,targetUrl:e.href}):location.href=e.href)},{disabledInInput:!0}).register({code:"Digit3"},t=>{let e=document.querySelector(".main-menu .main-menu-item:nth-of-type(3) a");e&&(Alpine.store("form").dirty?u({message:Alpine.store("globals").CONFIRM_LEAVE_PAGE,targetUrl:e.href}):location.href=e.href)},{disabledInInput:!0}).register({code:"Digit4"},t=>{let e=document.querySelector(".main-menu .main-menu-item:nth-of-type(4) a");e&&(Alpine.store("form").dirty?u({message:Alpine.store("globals").CONFIRM_LEAVE_PAGE,targetUrl:e.href}):location.href=e.href)},{disabledInInput:!0}).register({code:"Digit5"},t=>{let e=document.querySelector(".main-menu .main-menu-item:nth-of-type(5) a");e&&(Alpine.store("form").dirty?u({message:Alpine.store("globals").CONFIRM_LEAVE_PAGE,targetUrl:e.href}):location.href=e.href)},{disabledInInput:!0}).register({code:"Digit6"},t=>{let e=document.querySelector(".main-menu .main-menu-item:nth-of-type(6) a");e&&(Alpine.store("form").dirty?u({message:Alpine.store("globals").CONFIRM_LEAVE_PAGE,targetUrl:e.href}):location.href=e.href)},{disabledInInput:!0}).register({code:"Digit7"},t=>{let e=document.querySelector(".main-menu .main-menu-item:nth-of-type(7) a");e&&(Alpine.store("form").dirty?u({message:Alpine.store("globals").CONFIRM_LEAVE_PAGE,targetUrl:e.href}):location.href=e.href)},{disabledInInput:!0}).register({key:"H"},t=>{let e=document.querySelector(".shortcuts");e.open?e.close():e.showModal()},{disabledInInput:!0}).register({code:"Escape"},t=>{let e=document.querySelector("dialog[open]");e&&e.close(),document.querySelectorAll("input, checkbox, textarea, select").forEach(n=>n.blur())}).register({code:"ArrowLeft"},t=>{K()},{disabledInInput:!0}).register({code:"ArrowRight"},t=>{$()},{disabledInInput:!0}).register({code:"ArrowDown"},t=>{P()},{disabledInInput:!0}).register({code:"ArrowUp"},t=>{G()},{disabledInInput:!0}).register({key:"L"},t=>{let e=document.querySelector(".units .l-unit.focus .shortcut-l");e&&m(e)},{disabledInInput:!0}).register({key:"S"},t=>{let e=document.querySelector(".units .l-unit.focus .shortcut-s");e&&m(e)},{disabledInInput:!0}).register({key:"W"},t=>{let e=document.querySelector(".units .l-unit.focus .shortcut-w");e&&m(e)},{disabledInInput:!0}).register({key:"D"},t=>{let e=document.querySelector(".units .l-unit.focus .shortcut-d");e&&m(e)},{disabledInInput:!0}).register({key:"R"},t=>{let e=document.querySelector(".units .l-unit.focus .shortcut-r");e&&m(e)},{disabledInInput:!0}).register({key:"N"},t=>{let e=document.querySelector(".units .l-unit.focus .shortcut-n");e&&m(e)},{disabledInInput:!0}).register({key:"U"},t=>{let e=document.querySelector(".units .l-unit.focus .shortcut-u");e&&m(e)},{disabledInInput:!0}).register({code:"Delete"},t=>{let e=document.querySelector(".units .l-unit.focus .shortcut-delete");e&&m(e)},{disabledInInput:!0}).register({code:"Enter"},t=>{if(t.target.tagName=="INPUT"&&t.target.form.id=="vstobjects"&&document.querySelector("form#vstobjects").submit(),Alpine.store("form").dirty)document.querySelector("dialog[open]")?document.querySelector("dialog[open]").querySelector('button[type="submit"]').click():u({message:Alpine.store("globals").CONFIRM_LEAVE_PAGE,targetUrl:document.querySelector(".main-menu-item.focus a").href});else if(document.querySelector("dialog[open]"))document.querySelector("dialog[open]").querySelector('button[type="submit"]').click();else{let e=document.querySelector(".units .l-unit.focus .shortcut-enter");e?m(e):z()}},{propagate:!0})}function C(){let t=document.querySelector(".toolbar"),e=document.querySelector(".top-bar");if(!t||!e)return;window.addEventListener("scroll",n);function n(){let o=t.getBoundingClientRect().top,r=window.scrollY,i=document.documentElement.clientTop,s=o+r-i,c=e.offsetHeight,l=r>s-c;t.classList.toggle("active",l)}}function j(){document.querySelectorAll(".js-toggle-options").forEach(t=>{t.addEventListener("click",de)})}function de(){let t=document.querySelector(".js-advanced-options"),e=document.querySelector(".js-basic-options");t.classList.contains("u-hidden")?(t.classList.remove("u-hidden"),e.classList.add("u-hidden"),me()):(t.classList.add("u-hidden"),e.classList.remove("u-hidden"))}function me(){let t=document.querySelector(".js-advanced-textarea"),e=document.querySelectorAll("#vstobjects input[type=text]");b(e,t)}function D(){document.querySelectorAll(".js-unlimited-toggle").forEach(t=>{let e=t.parentElement.querySelector("input");Alpine.store("globals").isUnlimitedValue(e.value)?J(e,t):B(e,t),t.addEventListener("click",()=>{fe(e,t)})})}function J(t,e){e.classList.add("active"),t.dataset.prevValue=t.value,t.value=Alpine.store("globals").UNLIM_TRANSLATED_VALUE,t.disabled=!0}function B(t,e){e.classList.remove("active");let n=t.dataset.prevValue?t.dataset.prevValue.trim():null;n&&(t.value=n),Alpine.store("globals").isUnlimitedValue(t.value)&&(t.value="0"),t.disabled=!1}function fe(t,e){e.classList.contains("active")?B(t,e):J(t,e)}window.Hestia={helpers:E};pe();S();function pe(){q(),L(),_(),I(),w(),x(),C(),j()}document.addEventListener("alpine:init",()=>{v(),D(),k()});})();
//# sourceMappingURL=main.min.js.map
