(()=>{var oe=Object.create;var g=Object.defineProperty;var ne=Object.getOwnPropertyDescriptor;var re=Object.getOwnPropertyNames;var se=Object.getPrototypeOf,ie=Object.prototype.hasOwnProperty;var ce=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),le=(e,t)=>{for(var o in t)g(e,o,{get:t[o],enumerable:!0})},ae=(e,t,o,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of re(t))!ie.call(e,r)&&r!==o&&g(e,r,{get:()=>t[r],enumerable:!(n=ne(t,r))||n.enumerable});return e};var ue=(e,t,o)=>(o=e!=null?oe(se(e)):{},ae(t||!e||!e.__esModule?g(o,"default",{value:e,enumerable:!0}):o,e));var G=ce((Pe,$)=>{(function(e){typeof define=="function"&&define.amd?define(e):e()})(function(){"use strict";let e=[{id:0,value:"Too weak",minDiversity:0,minLength:0},{id:1,value:"Weak",minDiversity:2,minLength:6},{id:2,value:"Medium",minDiversity:4,minLength:8},{id:3,value:"Strong",minDiversity:4,minLength:10}],t=(o,n=e,r="!\"#$%&'()*+,-./:;<=>?@[\\\\\\]^_`{|}~")=>{let s=o||"";n[0].minDiversity=0,n[0].minLength=0;let c=[{regex:"[a-z]",message:"lowercase"},{regex:"[A-Z]",message:"uppercase"},{regex:"[0-9]",message:"number"}];r&&c.push({regex:`[${r}]`,message:"symbol"});let i={};i.contains=c.filter(a=>new RegExp(`${a.regex}`).test(s)).map(a=>a.message),i.length=s.length;let l=n.filter(a=>i.contains.length>=a.minDiversity).filter(a=>i.length>=a.minLength).sort((a,m)=>m.id-a.id).map(a=>({id:a.id,value:a.value}));return Object.assign(i,l[0]),i};$.exports={passwordStrength:t,defaultOptions:e}})});function y(){Alpine.bind("BulkEdit",()=>({"@submit"(e){e.preventDefault(),document.querySelectorAll(".ch-toggle").forEach(t=>{if(t.checked){let o=document.createElement("input");o.type="hidden",o.name=t.name,o.value=t.value,e.target.appendChild(o)}}),e.target.submit()}})),Alpine.store("form",{dirty:!1,makeDirty(){this.dirty=!0}}),document.querySelectorAll("#vstobjects input, #vstobjects select, #vstobjects textarea").forEach(e=>{e.addEventListener("change",()=>{Alpine.store("form").makeDirty()})}),Alpine.data("notifications",()=>({initialized:!1,open:!1,notifications:[],toggle(){this.open=!this.open,this.initialized||this.list()},async list(){let e=document.querySelector("#token").getAttribute("token"),t=await fetch(`/list/notifications/?ajax=1&token=${e}`);if(this.initialized=!0,!t.ok)throw new Error("An error occurred while listing notifications.");this.notifications=Object.values(await t.json())},async remove(e){let t=document.querySelector("#token").getAttribute("token");await fetch(`/delete/notification/?delete=1&notification_id=${e}&token=${t}`),this.notifications=this.notifications.filter(o=>o.ID!=e),this.notifications.length===0&&(this.open=!1)},async removeAll(){let e=document.querySelector("#token").getAttribute("token");await fetch(`/delete/notification/?delete=1&token=${e}`),this.notifications=[],this.open=!1}}))}function v(){if(document.querySelectorAll("dialog[open]").length===0){let t=document.querySelector("#vstobjects .form-control:not([disabled]),		#vstobjects .form-select:not([disabled])");t&&t.focus()}}var S={};le(S,{createConfirmationDialog:()=>u,getCssVariable:()=>fe,randomPassword:()=>b,showSpinner:()=>h});var de=e=>crypto.getRandomValues(new Uint8Array(e)),me=(e,t,o)=>{let n=(2<<Math.log(e.length-1)/Math.LN2)-1,r=-~(1.6*n*t/e.length);return(s=t)=>{let c="";for(;;){let i=o(r),l=r;for(;l--;)if(c+=e[i[l]&n]||"",c.length===s)return c}}},F=(e,t=21)=>me(e,t,de);function b(e=16){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",o="abcdefghijklmnopqrstuvwxyz",n="0123456789",r="!@#$%^&*()_+-=[]{}|;:,./<>?",s=t+o+n+r,c=F(s,e),i;do i=c();while(!(/[a-z]/.test(i)&&/[A-Z]/.test(i)&&/\d/.test(i)));return i}function fe(e){return getComputedStyle(document.documentElement).getPropertyValue(e).trim()}function h(){document.querySelector(".js-fullscreen-loader").classList.add("active")}function u({title:e,message:t="Are you sure?",targetUrl:o}){let n=document.createElement("dialog");if(n.classList.add("modal"),e){let p=document.createElement("h2");p.innerHTML=e,p.classList.add("modal-title"),n.append(p)}let r=document.createElement("p");r.innerHTML=t,r.classList.add("modal-message"),n.append(r);let s=document.createElement("div");s.classList.add("modal-options");let c=document.createElement("button");c.type="submit",c.classList.add("button"),c.textContent="OK",s.append(c);let i=document.createElement("button");i.type="button",i.classList.add("button","button-secondary","u-ml5"),i.textContent="Cancel",o&&s.append(i),n.append(s);let l=()=>{o&&(window.location.href=o),m()},a=()=>m(),m=()=>{c.removeEventListener("click",l),i.removeEventListener("click",a),n.removeEventListener("close",m),n.remove()};c.addEventListener("click",l),i.addEventListener("click",a),n.addEventListener("close",m),document.body.append(n),n.showModal()}function A(){document.querySelectorAll(".js-confirm-action").forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();let o=e.dataset.confirmTitle,n=e.dataset.confirmMessage,r=e.getAttribute("href");u({title:o,message:n,targetUrl:r})})})}function E(){R(".js-account-input",".js-account-output"),R(".js-password-input",".js-password-output")}function R(e,t){let o=document.querySelector(e),n=document.querySelector(t);if(!o||!n)return;function r(s){n.textContent=s}o.addEventListener("input",s=>{r(s.target.value)}),r(o.value)}function L(){document.querySelectorAll(".js-generate-cron").forEach(e=>{e.addEventListener("click",()=>{let t=e.closest("fieldset");["min","hour","day","month","wday"].forEach(n=>{let r=t.querySelector(`[name=h_${n}]`).value,s=document.querySelector(`#vstobjects input[name=v_${n}]`);s.value=r,s.classList.add("highlighted"),s.addEventListener("transitionend",()=>{s.classList.remove("highlighted")},{once:!0})})})})}function q(){let e=document.querySelector(".js-discard-all-mail");e&&e.addEventListener("click",()=>{let t=document.getElementById("v_fwd"),o=document.getElementById("v_fwd_for");e.checked?(t.disabled=!0,o.checked=!0,o.parentElement.classList.add("u-hidden")):(t.disabled=!1,o.parentElement.classList.remove("u-hidden"))})}function _(){let e=Alpine.store("globals").ERROR_MESSAGE;e&&u({message:e})}function I(){document.querySelectorAll(".js-unlimited-toggle").forEach(e=>{let t=e.parentElement.querySelector("input");w(t.value)?K(t,e):P(t,e),e.addEventListener("click",()=>{pe(t,e)})})}function V(){document.querySelectorAll("input:disabled").forEach(e=>{w(e.value)&&(e.disabled=!1,e.value=Alpine.store("globals").UNLIM_VALUE)})}function w(e){let{UNLIM_VALUE:t,UNLIM_TRANSLATED_VALUE:o}=Alpine.store("globals"),n=e.trim();return n===t||n===o}function K(e,t){t.classList.add("active"),e.dataset.prevValue=e.value,e.value=Alpine.store("globals").UNLIM_TRANSLATED_VALUE,e.disabled=!0}function P(e,t){t.classList.remove("active");let o=e.dataset.prevValue?e.dataset.prevValue.trim():null;o&&(e.value=o),w(e.value)&&(e.value="0"),e.disabled=!1}function pe(e,t){t.classList.contains("active")?P(e,t):K(e,t)}function x(){document.querySelectorAll(".js-toggle-options").forEach(e=>{e.addEventListener("click",he)})}function he(){let e=document.querySelector(".js-advanced-options"),t=document.querySelector(".js-basic-options");e.classList.contains("u-hidden")?(e.classList.remove("u-hidden"),t.classList.add("u-hidden"),k()):(e.classList.add("u-hidden"),t.classList.remove("u-hidden"))}function k(){let e=document.querySelector(".js-advanced-textarea");document.querySelectorAll("#vstobjects input[type=text]").forEach(o=>{let n=o.dataset.regexp,r=o.dataset.prevValue;o.setAttribute("data-prev-value",o.value);let s=new RegExp(`(${n})(.+)(${r})`);e.value=e.value.replace(s,`$1$2${o.value}`)})}function C(){let e=document.querySelector("#vstobjects");e&&e.addEventListener("submit",()=>{h(),e.classList.contains("js-enable-inputs-on-submit")&&document.querySelectorAll("input[disabled]").forEach(n=>{n.disabled=!1}),V();let o=document.querySelector(".js-basic-options");o&&!o.classList.contains("u-hidden")&&k()});let t=document.querySelector('[x-bind="BulkEdit"]');t&&t.addEventListener("submit",()=>{h()})}function j(){let e=document.querySelector(".js-toggle-all");e&&e.addEventListener("change",ge)}function ge(e){let t=e.target.checked;document.querySelectorAll(".ch-toggle").forEach(o=>{o.checked=t}),document.querySelectorAll(".l-unit").forEach(o=>{o.classList.toggle("selected",t)})}function D(){let e={sort_par:"sort-name",sort_direction:-1,sort_as_int:!1};document.querySelectorAll(".toolbar-sorting-toggle").forEach(t=>{t.addEventListener("click",o=>{o.preventDefault(),document.querySelector(".toolbar-sorting-menu").classList.toggle("u-hidden")})}),document.addEventListener("click",t=>{let o=document.querySelector(".toolbar-sorting-toggle"),n=document.querySelector(".toolbar-sorting-menu");!n||!o||!n.contains(t.target)&&!o.contains(t.target)&&!n.classList.contains("u-hidden")&&n.classList.add("u-hidden")}),document.querySelectorAll(".toolbar-sorting-menu span").forEach(t=>{t.addEventListener("click",function(){if(document.querySelector(".toolbar-sorting-menu").classList.toggle("u-hidden"),this.classList.contains("active"))return;document.querySelectorAll(".toolbar-sorting-menu span").forEach(l=>l.classList.remove("active")),this.classList.add("active");let n=this.closest("li");e.sort_par=n.getAttribute("entity"),e.sort_as_int=!!n.getAttribute("sort_as_int"),e.sort_direction=this.classList.contains("up")?1:-1;let r=document.querySelector(".toolbar-sorting-toggle");r.querySelector("b").innerHTML=n.querySelector(".name").innerHTML;let s=r.querySelector(".fas");s.classList.remove("fa-arrow-up-a-z","fa-arrow-down-a-z"),s.classList.add(this.classList.contains("up")?"fa-arrow-up-a-z":"fa-arrow-down-a-z");let c=Array.from(document.querySelectorAll(".units .l-unit")).sort((l,a)=>{let m=l.getAttribute(e.sort_par),p=a.getAttribute(e.sort_par);if(e.sort_as_int){let ee=parseInt(m),te=parseInt(p);return ee>=te?e.sort_direction:e.sort_direction*-1}else return m<=p?e.sort_direction:e.sort_direction*-1}),i=document.querySelector(".units");c.forEach(l=>i.appendChild(l))})})}function N(){let e=document.querySelector(".js-add-ns");e&&e.addEventListener("click",()=>ye(e)),document.querySelectorAll(".js-remove-ns").forEach(t=>{t.addEventListener("click",()=>ve(t))})}function ye(e){let t=document.querySelectorAll("input[name^=v_ns]"),o=t.length;if(o<8){let n=t[0].parentElement.cloneNode(!0),r=n.querySelector("input");r.removeAttribute("value"),r.name=`v_ns${o+1}`,e.before(n)}o===7&&e.classList.add("u-hidden")}function ve(e){e.parentElement.remove(),document.querySelectorAll("input[name^=v_ns]").forEach((o,n)=>o.name=`v_ns${n+1}`),document.querySelector(".js-add-ns").classList.remove("u-hidden")}var z=ue(G(),1);function M(){document.querySelectorAll(".js-password-input").forEach(e=>{let t=o=>{clearTimeout(window.frp_usr_tmt),window.frp_usr_tmt=setTimeout(()=>{be(o.target)},100)};e.addEventListener("input",t)}),document.querySelectorAll(".js-generate-password").forEach(e=>{e.addEventListener("click",()=>{let t=e.parentNode.nextElementSibling.querySelector(".js-password-input");t&&(t.value=b(),t.dispatchEvent(new Event("input")))})})}function be(e){let t=e.value,o=e.parentNode.querySelector(".js-password-meter");if(o){if(t==="")return o.value=0;o.value=(0,z.passwordStrength)(t).id+1}}var f={active_menu:1,menu_selector:".main-menu-item",menu_active_selector:".active"};function B(){Q("left")}function W(){Q("right")}function J(){X("down")}function Y(){X("up")}function Z(){let e=document.querySelector(f.menu_selector+".focus a");if(e)return location.href=e.getAttribute("href");let t=document.querySelector(".units .l-unit.focus .actions-panel__col.actions-panel__edit a");t&&(location.href=t.getAttribute("href"))}function d(e){let t=e.dataset.keyAction;if(t==="js")return e.querySelector(".data-controls").click();t==="href"&&(location.href=e.querySelector("a").getAttribute("href"))}function Q(e){let t=f.menu_selector,o=f.menu_active_selector,n=Array.from(document.querySelectorAll(t)),r=document.querySelector(`${t}.focus`),s=document.querySelector(t+o),c=n.indexOf(r);c===-1&&(c=n.indexOf(s)),n.forEach(i=>i.classList.remove("focus")),e==="left"?c>0?n[c-1].classList.add("focus"):H("last"):e==="right"&&(c<n.length-1?n[c+1].classList.add("focus"):H("first"))}function X(e){let t=".units .l-unit:not(.header)",o=Array.from(document.querySelectorAll(t)),n=document.querySelector(".units .l-unit.focus"),r=o.indexOf(n);if(r===-1&&(r=0),e==="up"&&r>0)r--;else if(e==="down"&&r<o.length-1)r++;else return;n&&n.classList.remove("focus"),o[r].classList.add("focus"),window.scrollTo({top:o[r].getBoundingClientRect().top-200+window.scrollY,behavior:"smooth"})}function H(e="first"){if(f.active_menu===0){f.active_menu=1,f.menu_selector=".main-menu-item",f.menu_active_selector=".active";let t=document.querySelectorAll(f.menu_selector),o=e==="first"?0:t.length-1;t[o].classList.add("focus")}}function T(){Alpine.store("shortcuts",{registeredShortcuts:[],register(e,t,o){o={...{type:"keydown",propagate:!1,disabledInInput:!1,target:document},...o};let r=s=>{if(o.disabledInInput){let l=s.target.nodeType===3?s.target.parentNode:s.target;if(["input","textarea","selectbox"].includes(l.tagName.toLowerCase()))return}let c=[e.code?e.code==s.code:e.key.toLowerCase()==s.key.toLowerCase(),e.altKey&&s.altKey||!e.altKey&&!s.altKey,e.ctrlKey&&s.ctrlKey||!e.ctrlKey&&!s.ctrlKey,e.metaKey&&s.metaKey||!e.metaKey&&!s.metaKey,e.shiftKey&&s.shiftKey||!e.shiftKey&&!s.shiftKey];c.filter(l=>l).length===c.length&&(t(s),o.propagate||(s.stopPropagation(),s.preventDefault()))};return this.registeredShortcuts.push({combination:e,callback:r,target:o.target,event:o.type}),o.target.addEventListener(o.type,r),this},unregister(e){let t=this.registeredShortcuts.find(o=>JSON.stringify(o.combination)==JSON.stringify(e));if(t)return this.registeredShortcuts=this.registeredShortcuts.filter(o=>JSON.stringify(o.combination)!=JSON.stringify(e)),t.target.removeEventListener(t.event,t.callback,!1),this}}),Alpine.store("shortcuts").register({key:"A"},e=>{let t=document.querySelector("a.js-button-create");t&&(location.href=t.href)},{disabledInInput:!0}).register({key:"A",ctrlKey:!0,shiftKey:!0},e=>{let t=document.querySelector(".l-unit .ch-toggle:eq(0)").checked;document.querySelectorAll(".l-unit").forEach(o=>o.classList.toggle("selected"),!t),document.querySelectorAll(".l-unit .ch-toggle").forEach(o=>o.checked=!t)},{disabledInInput:!0}).register({code:"Enter",ctrlKey:!0},e=>{document.querySelector("form#vstobjects").submit()}).register({code:"Backspace",ctrlKey:!0},e=>{let t=document.querySelector("a.js-button-back").href;t&&(Alpine.store("form").dirty&&t?u({message:Alpine.store("globals").CONFIRM_LEAVE_PAGE,targetUrl:t}):t&&(location.href=t))}).register({key:"F"},e=>{let t=document.querySelector(".js-search-input");t&&t.focus()},{disabledInInput:!0}).register({code:"Digit1"},e=>{let t=document.querySelector(".main-menu .main-menu-item:nth-of-type(1) a");t&&(Alpine.store("form").dirty?u({message:Alpine.store("globals").CONFIRM_LEAVE_PAGE,targetUrl:t.href}):location.href=t.href)},{disabledInInput:!0}).register({code:"Digit2"},e=>{let t=document.querySelector(".main-menu .main-menu-item:nth-of-type(2) a");t&&(Alpine.store("form").dirty?u({message:Alpine.store("globals").CONFIRM_LEAVE_PAGE,targetUrl:t.href}):location.href=t.href)},{disabledInInput:!0}).register({code:"Digit3"},e=>{let t=document.querySelector(".main-menu .main-menu-item:nth-of-type(3) a");t&&(Alpine.store("form").dirty?u({message:Alpine.store("globals").CONFIRM_LEAVE_PAGE,targetUrl:t.href}):location.href=t.href)},{disabledInInput:!0}).register({code:"Digit4"},e=>{let t=document.querySelector(".main-menu .main-menu-item:nth-of-type(4) a");t&&(Alpine.store("form").dirty?u({message:Alpine.store("globals").CONFIRM_LEAVE_PAGE,targetUrl:t.href}):location.href=t.href)},{disabledInInput:!0}).register({code:"Digit5"},e=>{let t=document.querySelector(".main-menu .main-menu-item:nth-of-type(5) a");t&&(Alpine.store("form").dirty?u({message:Alpine.store("globals").CONFIRM_LEAVE_PAGE,targetUrl:t.href}):location.href=t.href)},{disabledInInput:!0}).register({code:"Digit6"},e=>{let t=document.querySelector(".main-menu .main-menu-item:nth-of-type(6) a");t&&(Alpine.store("form").dirty?u({message:Alpine.store("globals").CONFIRM_LEAVE_PAGE,targetUrl:t.href}):location.href=t.href)},{disabledInInput:!0}).register({code:"Digit7"},e=>{let t=document.querySelector(".main-menu .main-menu-item:nth-of-type(7) a");t&&(Alpine.store("form").dirty?u({message:Alpine.store("globals").CONFIRM_LEAVE_PAGE,targetUrl:t.href}):location.href=t.href)},{disabledInInput:!0}).register({key:"H"},e=>{let t=document.querySelector(".shortcuts");t.open?t.close():t.showModal()},{disabledInInput:!0}).register({code:"Escape"},e=>{let t=document.querySelector("dialog[open]");t&&t.close(),document.querySelectorAll("input, checkbox, textarea, select").forEach(o=>o.blur())}).register({code:"ArrowLeft"},e=>{B()},{disabledInInput:!0}).register({code:"ArrowRight"},e=>{W()},{disabledInInput:!0}).register({code:"ArrowDown"},e=>{J()},{disabledInInput:!0}).register({code:"ArrowUp"},e=>{Y()},{disabledInInput:!0}).register({key:"L"},e=>{let t=document.querySelector(".units .l-unit.focus .shortcut-l");t&&d(t)},{disabledInInput:!0}).register({key:"S"},e=>{let t=document.querySelector(".units .l-unit.focus .shortcut-s");t&&d(t)},{disabledInInput:!0}).register({key:"W"},e=>{let t=document.querySelector(".units .l-unit.focus .shortcut-w");t&&d(t)},{disabledInInput:!0}).register({key:"D"},e=>{let t=document.querySelector(".units .l-unit.focus .shortcut-d");t&&d(t)},{disabledInInput:!0}).register({key:"R"},e=>{let t=document.querySelector(".units .l-unit.focus .shortcut-r");t&&d(t)},{disabledInInput:!0}).register({key:"N"},e=>{let t=document.querySelector(".units .l-unit.focus .shortcut-n");t&&d(t)},{disabledInInput:!0}).register({key:"U"},e=>{let t=document.querySelector(".units .l-unit.focus .shortcut-u");t&&d(t)},{disabledInInput:!0}).register({code:"Delete"},e=>{let t=document.querySelector(".units .l-unit.focus .shortcut-delete");t&&d(t)},{disabledInInput:!0}).register({code:"Enter"},e=>{if(e.target.tagName=="INPUT"&&e.target.form.id=="vstobjects"&&document.querySelector("form#vstobjects").submit(),Alpine.store("form").dirty)document.querySelector("dialog[open]")?document.querySelector("dialog[open]").querySelector('button[type="submit"]').click():u({message:Alpine.store("globals").CONFIRM_LEAVE_PAGE,targetUrl:document.querySelector(".main-menu-item.focus a").href});else if(document.querySelector("dialog[open]"))document.querySelector("dialog[open]").querySelector('button[type="submit"]').click();else{let t=document.querySelector(".units .l-unit.focus .shortcut-enter");t?d(t):Z()}},{propagate:!0})}function U(){let e=document.querySelector(".toolbar"),t=document.querySelector(".top-bar");if(!e||!t)return;window.addEventListener("scroll",o);function o(){let n=e.getBoundingClientRect().top,r=window.scrollY,s=document.documentElement.clientTop,c=n+r-s,i=t.offsetHeight,l=r>c-i;e.classList.toggle("active",l)}}function O(){let e=document.querySelector(".js-tabs");if(!e)return;let t=e.querySelectorAll(".tabs-item"),o=e.querySelectorAll(".tabs-panel");t.forEach(n=>{n.addEventListener("click",r=>{o.forEach(i=>i.hidden=!0),t.forEach(i=>{i.setAttribute("aria-selected",!1),i.setAttribute("tabindex",-1)});let s=r.target.getAttribute("id"),c=document.querySelector(`[aria-labelledby="${s}"]`);c.hidden=!1,r.target.setAttribute("aria-selected",!0),r.target.setAttribute("tabindex",0),r.target.focus()})})}window.Hestia={helpers:S};Se();v();function Se(){A(),E(),L(),q(),C(),j(),D(),N(),M(),U(),O(),x()}document.addEventListener("alpine:init",()=>{y(),_(),T(),I()});})();
//# sourceMappingURL=main.min.js.map
